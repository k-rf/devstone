---
name: define-agent
description: アクターモデルに基づいた均質なサブエージェントを定義します。新しいサブエージェントを定義する場合、エージェント/タスクの責務や境界を明確化したい場合、複数のエージェント間の協調動作を設計する場合、またはエージェント仕様を文書化する場合に使用してください。エージェント定義、責務設計、サブエージェント設計などのリクエストに応答します。
user-invocable: true
allowed-tools:
  - AskUserQuestion
---

# サブエージェント定義スキル

アクターモデルに基づいた均質なサブエージェントを定義するためのスキル。このスキルを使用することで、堅牢で保守性の高いサブエージェントシステムを構築できます。

ユーザーと対話しながら、エージェントの定義を段階的に作成していきます。

- 詳細なテンプレート: [FORMS.md](FORMS.md)
- 具体的な使用例: [EXAMPLES.md](EXAMPLES.md)

## 実行手順

1. **アイデンティティの明確化**: エージェントの役割、目的、スコープを定義
2. **契約の定義**: 入出力の仕様を明確化
3. **振る舞いの定義**: 責務と各種条件を設定
4. **メッセージング設計**: メッセージ形式を定義
5. **制約とコンテキスト**: 実行環境の条件を明記
6. **観測可能性の確保**: ログとメトリクスを設計
7. **エラーハンドリング**: 失敗パターンと対処法を定義
8. **セキュリティ考慮**: 権限と機密情報の扱いを明確化
9. **テスト設計**: テストケースとバリデーション定義
10. **実装ガイド作成**: 推奨アプローチと参考実装を提供

## 注意事項

- **明示的な境界**: スコープを明確に定義し、責務の肥大化を防ぐ
- **失敗の設計**: 失敗は正常な動作の一部として設計する
- **観測可能性**: デバッグと監視を考慮した設計
- **ドキュメントとコードの一致**: 定義と実装を常に同期させる

## 応答形式

サブエージェントの定義が完了したら、以下の形式で応答してください：

```markdown
# [エージェント名] 定義書

[上記テンプレートに従った完全な定義]
```
